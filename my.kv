#:import hex kivy.utils.get_color_from_hex

WindowManager:
    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
            source: "resources/v3/background/Light.png"

    Dummy:
    Signup:
    Login:
    HomeScreen:
    DifficultySelection:
    BookmarkDifficulty:
    BookmarkedItems:
    SettingsScreen:
    ContentsDiff:
    Contents:
    GrammarItem:
    VocabItem:
    KanjiItem:
    EndQuizz:

<Dummy>:
    name: "dummy"

<Signup>:
    name: "signup"

    GridLayout:
        cols: 1

        Label:
            bold: "True"
            text: "Sign up to Continue"
            font_name: "ComicSans"
            color: "black"
        
        GridLayout:
            cols: 1
            
            AnchorLayout:

                MDTextField:
                    mode: "round"
                    id: s_name
                    hint_text: "username"
                    size_hint: None, None
                    width: (root.width/10)*8
            
            AnchorLayout:
            
                MDTextField:
                    mode:"round"
                    id: s_pass
                    password: "True"
                    hint_text: "password"
                    size_hint: None, None
                    width: (root.width/10)*8
            
            AnchorLayout:
            
                MDTextField:
                    mode:"round"
                    id: s_pass_2
                    password: "True"
                    hint_text: "confirm password"
                    size_hint: None, None
                    width: (root.width/10)*8

            AnchorLayout:
            
                MDFillRoundFlatButton:
                    text: "Sign up"
                    pos_hint_x: {"center"}
                    on_release:
                        root.signup()

        GridLayout:
            cols: 1

            Label:
                text: "Already have a account?"
                font_name: "ComicSans"
                color: "black"
            
            AnchorLayout:
                anchor_y:'top'
                anchor_x:'center'
            
                MDFillRoundFlatButton:
                    text: "Login"
                    pos_hint_x: {"center"}
                    on_release:
                        root.login()
                        root.manager.transition.direction = "left"


<Login>
    name: "login"

    GridLayout:
        cols: 1

        Label:
            bold: "True"
            text: "Log in to your account"
            font_name: "ComicSans"
            color: "black"
        
        GridLayout:
            cols: 1

            AnchorLayout:

                MDTextField:
                    mode: "round"
                    id: s_name
                    hint_text: "username"
                    size_hint: None, None
                    width: (root.width/10)*8
            
            AnchorLayout:
            
                MDTextField:
                    mode:"round"
                    id: s_pass
                    password: "True"
                    hint_text: "password"
                    size_hint: None, None
                    width: (root.width/10)*8
            
            AnchorLayout:
            
                MDFillRoundFlatButton:
                    text: "Log in"
                    pos_hint_x: {"center"}

        GridLayout:
            cols: 1

            Label:
                text: "Don't have an account?"
                font_name: "ComicSans"
                color: "black"
            
            AnchorLayout:
                anchor_y:'top'
                anchor_x:'center'
            
                MDFillRoundFlatButton:
                    text: "Signup"
                    pos_hint_x: {"center"}
                    on_release:
                        root.signup()
                        root.manager.transition.direction = "right"



<HomeScreen>:
    name: "home"

    GridLayout:
        cols: 1

        Label:
            bold: "True"
            size_hint_y: None
            height: root.height/12
            text: "Nihongo Wakaranai"
            font_name: "ComicSans"
            canvas.before:
                Color:
                    rgba: hex('#356859')
                Rectangle:
                    pos: self.pos
                    size: self.size

        GridLayout:
            cols: 1

            AnchorLayout:
                size_hint_y: None
                height: root.height/4

                Label:
                    bold: "True"
                    text: "Pick your poison!!"
                    font_name: "ComicSans"
                    color: 0,0,0,1
                    font_size: 24

            AnchorLayout:

                GridLayout:
                    cols: 2
                    anchor: "center"
                    size: (root.width/30)*29, (root.width/30)*29

                    AnchorLayout:

                        Button:
                            size_hint: None, None
                            size: (root.width/10)*4, (root.width/10)*4
                            allow_stretch: "False"
                            background_normal: './resources/Buttons/contents_up.png'
                            background_down: './resources/Buttons/contents_down.png'
                            border: 0,0,0,0
                            on_release:
                                root.manager.current = "contents_diff"
                                root.manager.transition.direction = "left"

                    AnchorLayout:

                        Button:
                            size_hint: None, None
                            size: (root.width/10)*4, (root.width/10)*4
                            allow_stretch: "False"
                            background_normal: './resources/Buttons/bookmarks_up.png'
                            background_down: './resources/Buttons/bookmarks_down.png'
                            border: 0,0,0,0
                            on_release:
                                root.manager.current = "bookd"
                                root.manager.transition.direction = "left"

                    AnchorLayout:

                        Button:
                            size_hint: None, None
                            size: (root.width/10)*4, (root.width/10)*4
                            allow_stretch: "False"
                            background_normal: './resources/Buttons/quiz_up.png'
                            background_down: './resources/Buttons/quiz_down.png'
                            border: 0,0,0,0
                            on_release:
                                root.manager.current = "diff"
                                root.manager.transition.direction = "left"

                    AnchorLayout:

                        Button:
                            size_hint: None, None
                            size: (root.width/10)*4, (root.width/10)*4
                            allow_stretch: "False"
                            background_normal: './resources/Buttons/settings_up.png'
                            background_down: './resources/Buttons/settings_down.png'
                            border: 0,0,0,0
                            on_release:
                                root.manager.current = "settings"
                                root.manager.transition.direction = "left"


            GridLayout:
                cols: 1
                size_hint_y: None
                height: root.height/5



<DifficultySelection>:
    name: "diff"

    GridLayout:
        cols: 1

        Label:
            bold: "True"
            size_hint_y: None
            height: root.height/12
            text: "Quiz"
            font_name: "ComicSans"
            canvas.before:
                Color:
                    rgba: hex('#356859')
                Rectangle:
                    pos: self.pos
                    size: self.size

        GridLayout:
            cols: 1

            AnchorLayout:
                size_hint_y: None
                height: root.height/7

                Label:
                    bold: "True"
                    text: "Select Level"
                    font_name: "ComicSans"
                    color: 0,0,0,1
                    font_size: 18

            AnchorLayout:

                GridLayout:
                    cols: 2
                    anchor: "center"
                    size: (root.width/30)*29, (root.width/30)*29

                    AnchorLayout:

                        Button:
                            size_hint: None, None
                            size: (root.width/10)*4, (root.width/10)*4
                            allow_stretch: "False"
                            background_normal: './resources/Buttons/n5_up.png'
                            background_down: './resources/Buttons/n5_down.png'
                            border: 0,0,0,0
                            on_release:
                                root.start5()
                                root.manager.transition.direction = "left"

                    AnchorLayout:

                        Button:
                            size_hint: None, None
                            size: (root.width/10)*4, (root.width/10)*4
                            allow_stretch: "False"
                            background_normal: './resources/Buttons/n4_up.png'
                            background_down: './resources/Buttons/n4_down.png'
                            border: 0,0,0,0
                            on_release:
                                root.start4()
                                root.manager.transition.direction = "left"

                    AnchorLayout:

                        Button:
                            size_hint: None, None
                            size: (root.width/10)*4, (root.width/10)*4
                            allow_stretch: "False"
                            background_normal: './resources/Buttons/n3_up.png'
                            background_down: './resources/Buttons/n3_down.png'
                            border: 0,0,0,0
                            on_release:
                                root.start3()
                                root.manager.transition.direction = "left"

                    AnchorLayout:

                        Button:
                            size_hint: None, None
                            size: (root.width/10)*4, (root.width/10)*4
                            allow_stretch: "False"
                            background_normal: './resources/Buttons/n2_up.png'
                            background_down: './resources/Buttons/n2_down.png'
                            border: 0,0,0,0
                            on_release:
                                root.start2()
                                root.manager.transition.direction = "left"

            AnchorLayout:
                size_hint_y: None
                height: root.height/4

                Button:
                    anchor_y: "top"
                    size_hint: None, None
                    size: (root.width/10)*4, (root.width/10)*4
                    allow_stretch: "False"
                    background_normal: './resources/Buttons/n1_up.png'
                    background_down: './resources/Buttons/n1_down.png'
                    border: 0,0,0,0
                    on_release:
                        root.start1()
                        root.manager.transition.direction = "left"

            AnchorLayout:
                size_hint_y: None
                height: root.height/10

                Button:
                    size_hint: None, None
                    size: root.width/10, root.width/10
                    allow_stretch: "False"
                    background_normal: './resources/Buttons/back_button_up.png'
                    background_down: './resources/Buttons/back_button_down.png'
                    border: 0,0,0,0
                    on_release:
                        root.manager.current = "home"
                        root.manager.transition.direction = "right"



<BookmarkDifficulty>:
    name: "bookd"

    GridLayout:
        cols: 1

        Label:
            bold: "True"
            size_hint_y: None
            height: root.height/12
            text: "Bookmarks"
            font_name: "ComicSans"
            canvas.before:
                Color:
                    rgba: hex('#356859')
                Rectangle:
                    pos: self.pos
                    size: self.size

        GridLayout:
            cols: 1

            AnchorLayout:
                size_hint_y: None
                height: root.height/7

                Label:
                    bold: "True"
                    text: "Select Level"
                    font_name: "ComicSans"
                    color: 0,0,0,1
                    font_size: 18

            AnchorLayout:

                GridLayout:
                    cols: 2
                    anchor: "center"
                    size: (root.width/30)*29, (root.width/30)*29

                    AnchorLayout:

                        Button:
                            size_hint: None, None
                            size: (root.width/10)*4, (root.width/10)*4
                            allow_stretch: "False"
                            background_normal: './resources/Buttons/n5_up.png'
                            background_down: './resources/Buttons/n5_down.png'
                            border: 0,0,0,0
                            on_release:
                                root.book5()
                                root.manager.transition.direction = "left"

                    AnchorLayout:

                        Button:
                            size_hint: None, None
                            size: (root.width/10)*4, (root.width/10)*4
                            allow_stretch: "False"
                            background_normal: './resources/Buttons/n4_up.png'
                            background_down: './resources/Buttons/n4_down.png'
                            border: 0,0,0,0
                            on_release:
                                root.book4()
                                root.manager.transition.direction = "left"

                    AnchorLayout:

                        Button:
                            size_hint: None, None
                            size: (root.width/10)*4, (root.width/10)*4
                            allow_stretch: "False"
                            background_normal: './resources/Buttons/n3_up.png'
                            background_down: './resources/Buttons/n3_down.png'
                            border: 0,0,0,0
                            on_release:
                                root.book3()
                                root.manager.transition.direction = "left"

                    AnchorLayout:

                        Button:
                            size_hint: None, None
                            size: (root.width/10)*4, (root.width/10)*4
                            allow_stretch: "False"
                            background_normal: './resources/Buttons/n2_up.png'
                            background_down: './resources/Buttons/n2_down.png'
                            border: 0,0,0,0
                            on_release:
                                root.book2()
                                root.manager.transition.direction = "left"


            AnchorLayout:
                size_hint_y: None
                height: root.height/4

                Button:
                    anchor_y: "top"
                    size_hint: None, None
                    size: (root.width/10)*4, (root.width/10)*4
                    allow_stretch: "False"
                    background_normal: './resources/Buttons/n1_up.png'
                    background_down: './resources/Buttons/n1_down.png'
                    border: 0,0,0,0
                    on_release:
                        root.book1()
                        root.manager.transition.direction = "left"

            AnchorLayout:
                size_hint_y: None
                height: root.height/10

                Button:
                    size_hint: None, None
                    size: root.width/10, root.width/10
                    allow_stretch: "False"
                    background_normal: './resources/Buttons/back_button_up.png'
                    background_down: './resources/Buttons/back_button_down.png'
                    border: 0,0,0,0
                    on_release:
                        root.manager.current = "home"
                        root.manager.transition.direction = "right"



<BookmarkedItems>:
    name: "booki"

    GridLayout:
        cols: 1
        row_force_default: False

        Label:
            bold: "True"
            size_hint_y: None
            height: root.height/12
            text: root.level
            font_name: "ComicSans"
            canvas.before:
                Color:
                    rgba: hex('#356859')
                Rectangle:
                    pos: self.pos
                    size: self.size

        TabbedPanel:
            canvas.before:
                Color:
                    rgba: hex('#fffbe6')
                Rectangle:
                    pos: self.pos
                    size: self.size
            do_default_tab: False
            tab_width: self.parent.width / 3

            TabbedPanelItem:
                text: "grammar"
                color: 0,0,0,1
                border: 0,0,0,0
                background_normal: './resources/Buttons/rec_4_down.png'
                background_down: './resources/Buttons/rec_4_up.png'

                ScrollView:
                    canvas.before:
                        Color:
                            rgba: hex('#fffbe6')
                        Rectangle:
                            pos: self.pos
                            size: self.size
                    do_scroll_x: False
                    do_scroll_y: True
                    size: self.size

                    GridLayout:
                        id: grammar_tab
                        cols: 1
                        size_hint_y: None
                        height: self.minimum_height
                        row_default_height: root.height/10
                        spacing: root.height/60

            TabbedPanelItem:
                text: "vocab"
                color: 0,0,0,1
                border: 0,0,0,0
                background_normal: './resources/Buttons/rec_4_down.png'
                background_down: './resources/Buttons/rec_4_up.png'

                ScrollView:
                    canvas.before:
                        Color:
                            rgba: hex('#fffbe6')
                        Rectangle:
                            pos: self.pos
                            size: self.size
                    do_scroll_x: False
                    do_scroll_y: True
                    size: self.size

                    GridLayout:
                        id: vocab_tab
                        cols: 1
                        size_hint_y: None
                        height: self.minimum_height
                        row_default_height: root.height/10
                        spacing: root.height/60

            TabbedPanelItem:
                text: "kanji"
                color: 0,0,0,1
                border: 0,0,0,0
                background_normal: './resources/Buttons/rec_4_down.png'
                background_down: './resources/Buttons/rec_4_up.png'

                ScrollView:
                    canvas.before:
                        Color:
                            rgba: hex('#fffbe6')
                        Rectangle:
                            pos: self.pos
                            size: self.size
                    do_scroll_x: False
                    do_scroll_y: True
                    size: self.size

                    GridLayout:
                        id: kanji_tab
                        cols: 1
                        size_hint_y: None
                        height: self.minimum_height
                        row_default_height: root.height/10
                        spacing: root.height/60

        GridLayout:
            cols: 1
            size_hint_y: None
            height: root.height/10

            AnchorLayout:

                Button:
                    anchor: "center"
                    size_hint: None, None
                    size: root.width/8, root.width/8
                    background_normal: root.back_up
                    background_down: root.back_down
                    allow_stretch: "False"
                    border: 0,0,0,0
                    on_release:
                        app.root.current = "bookd"
                        root.manager.transition.direction = "right"



<SettingsScreen>:
    name: "settings"

    GridLayout:
        cols: 1

        Button:
            text: "Currently Empty. Tap to go back."
            on_release:
                app.root.current = "home"
                root.manager.transition.direction = "right"



<ContentsDiff>:
    name: "contents_diff"

    GridLayout:
        cols: 1

        Label:
            bold: "True"
            size_hint_y: None
            height: root.height/12
            text: "Contents"
            font_name: "ComicSans"
            canvas.before:
                Color:
                    rgba: hex('#356859')
                Rectangle:
                    pos: self.pos
                    size: self.size

        GridLayout:
            cols: 1

            AnchorLayout:
                size_hint_y: None
                height: root.height/7

                Label:
                    bold: "True"
                    text: "Select Level"
                    font_name: "ComicSans"
                    color: 0,0,0,1
                    font_size: 18

            AnchorLayout:

                GridLayout:
                    cols: 2
                    anchor: "center"
                    size: (root.width/30)*29, (root.width/30)*29

                    AnchorLayout:

                        Button:
                            size_hint: None, None
                            size: (root.width/10)*4, (root.width/10)*4
                            allow_stretch: "False"
                            background_normal: './resources/Buttons/n5_up.png'
                            background_down: './resources/Buttons/n5_down.png'
                            border: 0,0,0,0
                            on_release:
                                root.cont5()
                                root.manager.transition.direction = "left"

                    AnchorLayout:

                        Button:
                            size_hint: None, None
                            size: (root.width/10)*4, (root.width/10)*4
                            allow_stretch: "False"
                            background_normal: './resources/Buttons/n4_up.png'
                            background_down: './resources/Buttons/n4_down.png'
                            border: 0,0,0,0
                            on_release:
                                root.cont4()
                                root.manager.transition.direction = "left"

                    AnchorLayout:

                        Button:
                            size_hint: None, None
                            size: (root.width/10)*4, (root.width/10)*4
                            allow_stretch: "False"
                            background_normal: './resources/Buttons/n3_up.png'
                            background_down: './resources/Buttons/n3_down.png'
                            border: 0,0,0,0
                            on_release:
                                root.cont3()
                                root.manager.transition.direction = "left"

                    AnchorLayout:

                        Button:
                            size_hint: None, None
                            size: (root.width/10)*4, (root.width/10)*4
                            allow_stretch: "False"
                            background_normal: './resources/Buttons/n2_up.png'
                            background_down: './resources/Buttons/n2_down.png'
                            border: 0,0,0,0
                            on_release:
                                root.cont2()
                                root.manager.transition.direction = "left"


            AnchorLayout:
                size_hint_y: None
                height: root.height/4

                Button:
                    anchor_y: "top"
                    size_hint: None, None
                    size: (root.width/10)*4, (root.width/10)*4
                    allow_stretch: "False"
                    background_normal: './resources/Buttons/n1_up.png'
                    background_down: './resources/Buttons/n1_down.png'
                    border: 0,0,0,0
                    on_release:
                        root.cont1()
                        root.manager.transition.direction = "left"

            AnchorLayout:
                size_hint_y: None
                height: root.height/10

                Button:
                    size_hint: None, None
                    size: root.width/10, root.width/10
                    allow_stretch: "False"
                    background_normal: './resources/Buttons/back_button_up.png'
                    background_down: './resources/Buttons/back_button_down.png'
                    border: 0,0,0,0
                    on_release:
                        root.manager.current = "home"
                        root.manager.transition.direction = "right"



<Contents>:
    name: "contents"

    GridLayout:
        cols: 1
        row_force_default: False

        Label:
            bold: "True"
            size_hint_y: None
            height: root.height/12
            text: root.level
            font_name: "ComicSans"
            color: "black"


        TabbedPanel:
            do_default_tab: False
            tab_width: self.parent.width / 3

            TabbedPanelItem:
                text: "grammar"
                color: 0,0,0,1
                border: 0,0,0,0
                background_normal: './resources/Buttons/rec_4_down.png'
                background_down: './resources/Buttons/rec_4_up.png'

                ScrollView:
                    canvas.before:
                        Color:
                            rgba: hex('#ffffff')
                        Rectangle:
                            pos: self.pos
                            size: self.size
                    do_scroll_x: False
                    do_scroll_y: True
                    size: self.size

                    GridLayout:
                        id: grammar_tab
                        cols: 1
                        size_hint_y: None
                        height: self.minimum_height
                        row_default_height: root.height/10
                        spacing: root.height/60

            TabbedPanelItem:
                text: "vocab"
                color: 0,0,0,1
                border: 0,0,0,0
                background_normal: './resources/Buttons/rec_4_down.png'
                background_down: './resources/Buttons/rec_4_up.png'

                ScrollView:
                    canvas.before:
                        Color:
                            rgba: hex('#ffffff')
                        Rectangle:
                            pos: self.pos
                            size: self.size
                    do_scroll_x: False
                    do_scroll_y: True
                    size: self.size

                    GridLayout:
                        id: vocab_tab
                        cols: 1
                        size_hint_y: None
                        height: self.minimum_height
                        row_default_height: root.height/10
                        spacing: root.height/60

            TabbedPanelItem:
                text: "kanji"
                color: 0,0,0,1
                border: 0,0,0,0
                background_normal: './resources/Buttons/rec_4_down.png'
                background_down: './resources/Buttons/rec_4_up.png'

                ScrollView:
                    canvas.before:
                        Color:
                            rgba: hex('#ffffff')
                        Rectangle:
                            pos: self.pos
                            size: self.size
                    do_scroll_x: False
                    do_scroll_y: True
                    size: self.size

                    GridLayout:
                        id: kanji_tab
                        cols: 1
                        size_hint_y: None
                        height: self.minimum_height
                        row_default_height: root.height/10
                        spacing: root.height/60

        GridLayout:
            cols: 1
            size_hint_y: None
            height: root.height/10

            AnchorLayout:

                Button:
                    anchor: "center"
                    size_hint: None, None
                    size: root.width/8, root.width/8
                    background_normal: root.back_up
                    background_down: root.back_down
                    allow_stretch: "False"
                    border: 0,0,0,0
                    on_release:
                        app.root.current = "contents_diff"
                        root.manager.transition.direction = "right"


<GrammarItem>:
    name:"grammari"

    GridLayout:
        cols: 1

        Label:
            bold: "True"
            size_hint_y: None
            height: root.height/13
            text: root.label
            font_name: "ComicSans"
            canvas.before:
                Color:
                    rgba: hex('#356859')
                Rectangle:
                    pos: self.pos
                    size: self.size

        AnchorLayout:
            size_hint_y: None
            height: (root.height/6)*2
            Image:
                anchor: "center"
                size_hint_x: .6
                allow_stretch: True
                source: root.border

            Label:
                anchor_x: "center"
                size_hint: .4, 1
                text_size: (self.width/10)*9, None
                font_name: "komorebi"
                text: root.question
                color: 0, 0, 0, 1

        GridLayout:
            cols: 1

            AnchorLayout:
                Button:
                    anchor: "center"
                    size_hint: .8, .6
                    font_name: "komorebi"
                    text: root.A
                    color: 0, 0, 0, 1
                    background_normal: root.button_up
                    background_down: root.button_down
                    allow_stretch: "False"
                    border: 0,0,0,0
                    on_release:
                        root.ent_a()
                        root.manager.transition.direction = "left"

            AnchorLayout:
                Button:
                    anchor: "center"
                    size_hint: .8, .6
                    font_name: "komorebi"
                    text: root.B
                    color: 0, 0, 0, 1
                    background_normal: root.button_up
                    background_down: root.button_down
                    allow_stretch: "False"
                    border: 0,0,0,0
                    on_release:
                        root.ent_b()
                        root.manager.transition.direction = "left"

            AnchorLayout:
                Button:
                    anchor: "center"
                    size_hint: .8, .6
                    font_name: "komorebi"
                    text: root.C
                    color: 0, 0, 0, 1
                    background_normal: root.button_up
                    background_down: root.button_down
                    allow_stretch: "False"
                    border: 0,0,0,0
                    on_release:
                        root.ent_c()
                        root.manager.transition.direction = "left"

            AnchorLayout:
                Button:
                    anchor: "center"
                    size_hint: .8, .6
                    font_name: "komorebi"
                    text: root.D
                    color: 0, 0, 0, 1
                    background_normal: root.button_up
                    background_down: root.button_down
                    allow_stretch: "False"
                    border: 0,0,0,0
                    on_release:
                        root.ent_d()
                        root.manager.transition.direction = "left"

        GridLayout:
            cols: 1
            size_hint_y: None
            height: root.height/15


<VocabItem>:
    name: "vocabi"

    GridLayout:
        cols: 1

        Label:
            bold: "True"
            size_hint_y: None
            height: root.height/13
            text: root.label
            font_name: "ComicSans"
            canvas.before:
                Color:
                    rgba: hex('#356859')
                Rectangle:
                    pos: self.pos
                    size: self.size

        AnchorLayout:
            size_hint_y: None
            height: (root.height/6)
            Image:
                anchor: "center"
                size_hint_x: .8
                size_hint_y: .9
                allow_stretch: True
                source: root.border

            Label:
                size_hint: .6, 1
                text_size: (self.width/10)*9, None
                font_name: "komorebi"
                text: root.item
                color: 0, 0, 0, 1

        AnchorLayout:
            size_hint_y: None
            height: (root.height/6)
            Image:
                anchor: "center"
                size_hint_x: .4
                size_hint_y: .4
                allow_stretch: True
                source: root.border

            Label:
                font_name: "komorebi"
                text: root.kanji
                color: 0, 0, 0, 1

        GridLayout:
            cols: 1

            AnchorLayout:
                Button:
                    anchor: "center"
                    size_hint: .8, .6
                    font_name: "komorebi"
                    text: root.A
                    color: 0, 0, 0, 1
                    background_normal: root.button_up
                    background_down: root.button_down
                    allow_stretch: "False"
                    border: 0,0,0,0
                    on_release:
                        root.ent_a()
                        root.manager.transition.direction = "left"

            AnchorLayout:
                Button:
                    anchor: "center"
                    size_hint: .8, .6
                    font_name: "komorebi"
                    text: root.B
                    color: 0, 0, 0, 1
                    background_normal: root.button_up
                    background_down: root.button_down
                    allow_stretch: "False"
                    border: 0,0,0,0
                    on_release:
                        root.ent_b()
                        root.manager.transition.direction = "left"

            AnchorLayout:
                Button:
                    anchor: "center"
                    size_hint: .8, .6
                    font_name: "komorebi"
                    text: root.C
                    color: 0, 0, 0, 1
                    background_normal: root.button_up
                    background_down: root.button_down
                    allow_stretch: "False"
                    border: 0,0,0,0
                    on_release:
                        root.ent_c()
                        root.manager.transition.direction = "left"

            AnchorLayout:
                Button:
                    anchor: "center"
                    size_hint: .8, .6
                    font_name: "komorebi"
                    text: root.D
                    color: 0, 0, 0, 1
                    background_normal: root.button_up
                    background_down: root.button_down
                    allow_stretch: "False"
                    border: 0,0,0,0
                    on_release:
                        root.ent_d()
                        root.manager.transition.direction = "left"

        GridLayout:
            cols: 1
            size_hint_y: None
            height: root.height/15



<KanjiItem>:
    name: "kanjii"

    GridLayout:
        cols: 1

        Label:
            bold: "True"
            size_hint_y: None
            height: root.height/13
            text: root.label
            font_name: "ComicSans"
            canvas.before:
                Color:
                    rgba: hex('#356859')
                Rectangle:
                    pos: self.pos
                    size: self.size

        AnchorLayout:
            size_hint_y: None
            height: (root.height/6)
            Image:
                anchor: "center"
                size_hint_x: .8
                size_hint_y: .9
                allow_stretch: True
                source: root.border

            Label:
                size_hint: .6, 1
                text_size: (self.width/10)*9, None
                font_name: "komorebi"
                text: root.sentence
                color: 0, 0, 0, 1

        AnchorLayout:
            size_hint_y: None
            height: (root.height/6)
            Image:
                anchor: "center"
                size_hint_x: .4
                size_hint_y: .4
                allow_stretch: True
                source: root.border

            Label:
                font_name: "komorebi"
                text: root.kanji
                color: 0, 0, 0, 1

        GridLayout:
            cols: 1

            AnchorLayout:
                Button:
                    anchor: "center"
                    size_hint: .8, .6
                    font_name: "komorebi"
                    text: root.A
                    color: 0, 0, 0, 1
                    background_normal: root.button_up
                    background_down: root.button_down
                    allow_stretch: "False"
                    border: 0,0,0,0
                    on_release:
                        root.ent_a()
                        root.manager.transition.direction = "left"

            AnchorLayout:
                Button:
                    anchor: "center"
                    size_hint: .8, .6
                    font_name: "komorebi"
                    text: root.B
                    color: 0, 0, 0, 1
                    background_normal: root.button_up
                    background_down: root.button_down
                    allow_stretch: "False"
                    border: 0,0,0,0
                    on_release:
                        root.ent_b()
                        root.manager.transition.direction = "left"

            AnchorLayout:
                Button:
                    anchor: "center"
                    size_hint: .8, .6
                    font_name: "komorebi"
                    text: root.C
                    color: 0, 0, 0, 1
                    background_normal: root.button_up
                    background_down: root.button_down
                    allow_stretch: "False"
                    border: 0,0,0,0
                    on_release:
                        root.ent_c()
                        root.manager.transition.direction = "left"

            AnchorLayout:
                Button:
                    anchor: "center"
                    size_hint: .8, .6
                    font_name: "komorebi"
                    text: root.D
                    color: 0, 0, 0, 1
                    background_normal: root.button_up
                    background_down: root.button_down
                    allow_stretch: "False"
                    border: 0,0,0,0
                    on_release:
                        root.ent_d()
                        root.manager.transition.direction = "left"

        GridLayout:
            cols: 1
            size_hint_y: None
            height: root.height/15


<EndQuizz>:
    name: "end"

    GridLayout:
        cols: 1

        Label:
            bold: "True"
            size_hint_y: None
            height: root.height/13
            text: "Review"
            font_name: "ComicSans"
            canvas.before:
                Color:
                    rgba: hex('#356859')
                Rectangle:
                    pos: self.pos
                    size: self.size

        AnchorLayout:
            size_hint_y: None
            height: (root.height/6)
            Image:
                anchor: "center"
                size_hint_x: .8
                size_hint_y: .7
                allow_stretch: True
                source: root.border

            Label:
                anchor: "center"
                font_name: "komorebi"
                text: root.score
                color: 0, 0, 0, 1

        GridLayout:
            cols: 3

            GridLayout:
                cols: 1
                size_hint_x: None
                width: root.width/30

            ScrollView:
                do_scroll_x: False
                do_scroll_y: True
                size: self.size

                GridLayout:
                    spacing: root.height/50
                    id: review_buttons
                    cols: 1
                    size_hint_y: None
                    height: self.minimum_height
                    row_default_height: root.height/10

            GridLayout:
                cols: 1
                size_hint_x: None
                width: root.width/30


        GridLayout:
            cols: 1
            size_hint_y: None
            height: root.height/8

            AnchorLayout:

                Button:
                    anchor: "center"
                    size_hint: None, None
                    size: root.width/8, root.width/8
                    background_normal: root.back_up
                    background_down: root.back_down
                    allow_stretch: "False"
                    border: 0,0,0,0
                    on_release:
                        app.root.current = "diff"
                        root.manager.transition.direction = "right"



<GrammarPop>:
    title: 'Grammar'
    title_color: 0,0,0,1
    size_hint: (None, None)
    background: "./resources/Buttons/popup_bg.png"
    border: 0,0,0,0

    GridLayout:
        cols: 1

        GridLayout:
            cols: 1

            Label:
                font_name: "komorebi"
                text: root.item
                color: 0,0,0,1

            Label:
                font_name: "komorebi"
                text: root.meaning
                color: 0,0,0,1

        Label:
            size_hint: 1, 1
            text_size: self.width, None
            font_name: "komorebi"
            text: root.jp
            color: 0,0,0,1

        Label:
            size_hint: 1, 1
            text_size: self.width, None
            font_name: "komorebi"
            text: root.en
            color: 0,0,0,1

        Label:
            size_hint: 1, 1
            text_size: self.width, None
            font_name: "komorebi"
            text: root.prog
            color: 0,0,0,1

        GridLayout:
            cols: 3

            AnchorLayout:

                Button:
                    background_normal: root.bm_up
                    background_down: root.bm_down
                    border: 0,0,0,0
                    size_hint: None, None
                    size: root.width/8, root.width/8
                    on_release:
                        root.bookmark()

            AnchorLayout:

                Button:
                    background_normal: './resources/Buttons/back_button_up.png'
                    background_down: './resources/Buttons/back_button_down.png'
                    border: 0,0,0,0
                    size_hint: None, None
                    size: root.width/8, root.width/8
                    on_release:
                        root.tts()

            AnchorLayout:

                Button:
                    background_normal: './resources/Buttons/back_button_up.png'
                    background_down: './resources/Buttons/back_button_down.png'
                    border: 0,0,0,0
                    size_hint: None, None
                    size: root.width/8, root.width/8
                    on_release:
                        root.dismiss()



<VocabPop1>:
    title: 'Vocabulary'
    title_color: 0,0,0,1
    size_hint: (None, None)
    background: "./resources/Buttons/popup_bg.png"
    border: 0,0,0,0
    GridLayout:
        cols: 1

        GridLayout:
            cols: 2

            GridLayout:
                cols: 1

                Label:
                    font_name: "komorebi"
                    text: root.jp_word
                    color: 0,0,0,1

                Label:
                    font_name: "komorebi"
                    text: root.reading
                    color: 0,0,0,1

            Label:
                font_name: "komorebi"
                text: root.en_word
                color: 0,0,0,1

        Label:
            size_hint: 1, 1
            text_size: self.width, None
            font_name: "komorebi"
            text: root.jp_sent
            color: 0,0,0,1

        Label:
            size_hint: 1, 1
            text_size: self.width, None
            font_name: "komorebi"
            text: root.en_sent
            color: 0,0,0,1

        Label:
            size_hint: 1, 1
            text_size: self.width, None
            font_name: "komorebi"
            text: root.prog
            color: 0,0,0,1

        GridLayout:
            cols: 3

            AnchorLayout:

                Button:
                    background_normal: root.bm_up
                    background_down: root.bm_down
                    border: 0,0,0,0
                    size_hint: None, None
                    size: root.width/8, root.width/8
                    on_release:
                        root.bookmark()

            AnchorLayout:

                Button:
                    background_normal: './resources/Buttons/back_button_up.png'
                    background_down: './resources/Buttons/back_button_down.png'
                    border: 0,0,0,0
                    size_hint: None, None
                    size: root.width/8, root.width/8
                    on_release:
                        root.tts()

            AnchorLayout:

                Button:
                    background_normal: './resources/Buttons/back_button_up.png'
                    background_down: './resources/Buttons/back_button_down.png'
                    border: 0,0,0,0
                    size_hint: None, None
                    size: root.width/8, root.width/8
                    on_release:
                        root.dismiss()


<VocabPop2>:
    title: 'Vocabulary'
    title_color: 0,0,0,1
    size_hint: (None, None)
    background: "./resources/Buttons/popup_bg.png"
    border: 0,0,0,0
    GridLayout:
        cols: 1

        GridLayout:
            cols: 2

            GridLayout:
                size_hint_x: None
                width: root.width/3
                rows: 2

                Label:
                    font_name: "komorebi"
                    text: root.jp_word
                    color: 0,0,0,1

                Label:
                    font_name: "komorebi"
                    text: root.furigana
                    color: 0,0,0,1

            GridLayout:
                rows: 2

                Label:
                    size_hint: 1,1
                    text_size: self.width, None
                    font_name: "komorebi"
                    text: root.kind
                    color: 0,0,0,1

                Label:
                    size_hint: 1,1
                    text_size: self.width, None
                    font_name: "komorebi"
                    text: root.meaning
                    color: 0,0,0,1


        Label:
            size_hint: 1, 1
            text_size: self.width, None
            font_name: "komorebi"
            text: root.jp_sent
            color: 0,0,0,1

        Label:
            size_hint: 1, 1
            text_size: self.width, None
            font_name: "komorebi"
            text: root.en_sent
            color: 0,0,0,1

        Label:
            size_hint: 1, 1
            text_size: self.width, None
            font_name: "komorebi"
            text: root.prog
            color: 0,0,0,1

        GridLayout:
            cols: 3

            AnchorLayout:

                Button:
                    background_normal: root.bm_up
                    background_down: root.bm_down
                    border: 0,0,0,0
                    size_hint: None, None
                    size: root.width/8, root.width/8
                    on_release:
                        root.bookmark()

            AnchorLayout:

                Button:
                    background_normal: './resources/Buttons/back_button_up.png'
                    background_down: './resources/Buttons/back_button_down.png'
                    border: 0,0,0,0
                    size_hint: None, None
                    size: root.width/8, root.width/8
                    on_release:
                        root.tts()

            AnchorLayout:

                Button:
                    background_normal: './resources/Buttons/back_button_up.png'
                    background_down: './resources/Buttons/back_button_down.png'
                    border: 0,0,0,0
                    size_hint: None, None
                    size: root.width/8, root.width/8
                    on_release:
                        root.dismiss()

<KanjiPop>:
    title: 'Kanji'
    title_color: 0,0,0,1
    size_hint: (None, None)
    background: "./resources/Buttons/popup_bg.png"
    border: 0,0,0,0
    GridLayout:
        cols: 1

        GridLayout:
            cols: 2

            GridLayout:
                rows: 2

                Label:
                    font_name: "komorebi"
                    text: root.jp_word
                    color: 0,0,0,1

                Label:
                    font_name: "komorebi"
                    text: root.reading
                    color: 0,0,0,1

            Label:
                size_hint: 1, 1
                text_size: self.width, None
                font_name: "komorebi"
                text: root.translation
                color: 0,0,0,1

        Label:
            size_hint: 1, 1
            text_size: self.width, None
            font_name: "komorebi"
            text: root.jp_sent
            color: 0,0,0,1

        Label:
            size_hint: 1, 1
            text_size: self.width, None
            font_name: "komorebi"
            text: root.en_sent
            color: 0,0,0,1

        Label:
            size_hint: 1, 1
            text_size: self.width, None
            font_name: "komorebi"
            text: root.prog
            color: 0,0,0,1

        GridLayout:
            cols: 3

            AnchorLayout:

                Button:
                    background_normal: root.bm_up
                    background_down: root.bm_down
                    border: 0,0,0,0
                    size_hint: None, None
                    size: root.width/8, root.width/8
                    on_release:
                        root.bookmark()

            AnchorLayout:

                Button:
                    background_normal: './resources/Buttons/back_button_up.png'
                    background_down: './resources/Buttons/back_button_down.png'
                    border: 0,0,0,0
                    size_hint: None, None
                    size: root.width/8, root.width/8
                    on_release:
                        root.tts()

            AnchorLayout:

                Button:
                    background_normal: './resources/Buttons/back_button_up.png'
                    background_down: './resources/Buttons/back_button_down.png'
                    border: 0,0,0,0
                    size_hint: None, None
                    size: root.width/8, root.width/8
                    on_release:
                        root.dismiss()



<NoticePop>:
    title: "ERROR"
    size_hint: (None, None)
    size: (400, 400)

    Label:
        font_name: "komorebi"
        text: "this part has not been coded yet \ntap outside the popup to continue"

<ExitPop>:
    title: "NOTICE"
    title_color: 0,0,0,1
    size_hint: (None, None)
    background: "./resources/Buttons/popup_bg.png"
    border: 0,0,0,0

    GridLayout:
        cols: 1

        Label:
            font_name: "komorebi"
            text: "do you want to exit the app?"
            color: 0,0,0,1

        GridLayout:
            cols: 2
            size_hint_y: None
            height: root.height/5
            spacing: root.width/20

            Button:
                text: "Yes"
                font_name: "ComicSans"
                color: 0,0,0,1
                background_normal: './resources/Buttons/rec_4_up.png'
                background_down: './resources/Buttons/rec_4_down.png'
                border: 0,0,0,0
                on_release:
                    root.app_close()

            Button:
                text: "No"
                font_name: "ComicSans"
                color: 0,0,0,1
                background_normal: './resources/Buttons/rec_4_up.png'
                background_down: './resources/Buttons/rec_4_down.png'
                border: 0,0,0,0
                on_release:
                    root.dismiss()

